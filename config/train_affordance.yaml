defaults:
  - aff_detection: cliport_lang
  - paths: general_paths
  - transforms@dataset.transforms_cfg: rgb
  - override hydra/hydra_logging: colorlog
  - override hydra/job_logging: colorlog

# folders
train_dir: ./
run_name: 'cliport_lang'

trainer:
  # script configs
  gpus: -1
  max_epochs: 50
  check_val_every_n_epoch: 1
  num_sanity_val_steps: 1
  strategy: ddp
  precision: 32

dataset_name: calvin_lang
dataset:
  data_dir: ${paths.datasets}/${dataset_name}
  cam: static
  n_train_ep: -1  # Train using all episodes
  img_resize:
    static: 200
    gripper: 64
    all: 100

dataloader:
  num_workers: 4
  batch_size: 1
  pin_memory: true

wandb:
  logger:
    name: ${run_name}_${now:%y-%m-%d}_${now:%H-%M}
    entity: affordance
    project: affordance_model
    offline: False
  saver:
    monitor: 'val_loss'
    save_top_k: 2
    mode: min
    verbose: True
    save_last: True

#-- Hydra config --#
hydra_outputs: ./hydra_outputs/affordance_model/
hydra:
  run:
    dir: ${hydra_outputs}/${now:%Y-%m-%d}/${now:%H-%M-%S} # Output